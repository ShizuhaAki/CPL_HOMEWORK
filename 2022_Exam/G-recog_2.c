#include <stdio.h>
#include <string.h>

char map[50][101];
const char _0[17][9 + 1] = { // +1 for '\0'
    "..#####.",
    ".######.",
    "##....##",
    "##....##",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##....##",
    "##....##",
    ".######.",
    "..####.."};

const char _1[17][9 + 1] = {
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
};

const char _2[17][9 + 1] = {
    "..#####..",
    ".#######.",
    "##....##.",
    ".......##",
    "......##.",
    "......##.",
    "......##.",
    ".....##..",
    "....###..",
    "...###...",
    "...##....",
    "..###....",
    ".###.....",
    ".##......",
    "###......",
    "########.",
    "########."};

const char _3[17][9 + 1] = {
    "########",
    "########",
    ".....###",
    "....###.",
    "...###..",
    "..###...",
    "..#####.",
    "..######",
    "......##",
    "......##",
    "......##",
    "......##",
    "##....##",
    "##....##",
    "###...##",
    ".######.",
    "..####.."};

const char _4[17][9 + 1] = {
    ".....##..",
    "....###..",
    "....###..",
    "...####..",
    "...####..",
    "...####..",
    "..#####..",
    "..##.##..",
    ".###.##..",
    ".##..##..",
    ".##..##..",
    "##...##..",
    "#########",
    "#########",
    ".....##..",
    ".....##..",
    ".....##.."};

const char _5[17][9 + 1] = {
    "########.",
    "########.",
    "##.......",
    "##.......",
    "##.......",
    "##.......",
    "#######..",
    "########.",
    "......###",
    ".......##",
    ".......##",
    ".......##",
    ".......##",
    "##.....##",
    ".##...###",
    ".#######.",
    "..#####.."};

const char _6[17][9 + 1] = {
    ".....#...",
    "....##...",
    "...##....",
    "..###....",
    "..##.....",
    ".##......",
    ".##......",
    ".#####...",
    "#######..",
    "###...##.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "###...##.",
    ".#######.",
    "..####..."};

const char _7[17][9 + 1] = {
    "#########",
    "#########",
    ".......#.",
    "......##.",
    "......##.",
    ".....##..",
    ".....##..",
    ".....#...",
    "....##...",
    "....##...",
    "....##...",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
};

const char _8[17][9 + 1] = {
    "..#####..",
    ".##...##.",
    "##.....#.",
    "##.....#.",
    "##.....#.",
    "##....##.",
    ".##..###.",
    "..#####..",
    ".#######.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "##.....##",
    "###..###.",
    ".######..",
    "...###..."};

const char _9[17][9 + 1] = {
    ".######..",
    ".##..###.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "##....##.",
    ".#######.",
    "..######.",
    ".....###.",
    ".....##..",
    "....###..",
    "....##...",
    "...##....",
    "..###....",
    ".###.....",
    "........."};

struct Number {
    const char (*p)[10];
    int n;
    int m;
};

struct Number numbers[] = {
    {_0, 17, 8},
    {_1, 17, 2},
    {_2, 17, 9},
    {_3, 17, 8},
    {_4, 17, 9},
    {_5, 17, 9},
    {_6, 17, 9},
    {_7, 17, 9},
    {_8, 17, 9},
    {_9, 17, 9},
};

int up_to_down()
{
    for (int i = 0; i < 50; i++) {
        for (int j = 0; j < 100; j++) {
            if (map[i][j] == '#')
                return i;
        }
    }
}

int down_to_up()
{
    for (int i = 49; i >= 0; i--) {
        for (int j = 0; j < 100; j++) {
            if (map[i][j] == '#')
                return i;
        }
    }
}

int right_to_left(int start)
{
    for (int j = start; j >= 0; j--) {
        for (int i = 0; i < 50; i++) {
            if (map[i][j] == '#')
                return j;
        }
    }
}

int left_to_right(int start)
{
    for (int j = start; j >= 0; j--) {
        int flag = 1;
        for (int i = 0; i < 50; i++) {
            if (map[i][j] == '#') {
                flag = 0;
                break;
            }
        }
        if (flag)
            return j + 1;
    }
}

int cmp(int u, int l, int r, int left)
{
    for (int i = 0; i < 10; i++) {
        int n = numbers[i].n;
        int m = numbers[i].m;
        int flag = 1;
        if (n != l - u + 1)
            continue;
        if (m != r - left + 1)
            continue;
        for (int j = 0; j < n; j++) {
            int f = 0;
            for (int k = 0; k < m; k++) {
                if (map[u + j][left + k] != (numbers[i].p)[j][k]) {
                    f = 1;
                    break;
                }
            }
            if (f) {
                flag = 0;
                break;
            }
        }
        if (flag) {
            return i;
        }
    }
    return -1;
}

int main()
{
    for (int i = 0; i < 50; i++)
        scanf("%s", map[i]);
    int u = up_to_down();
    int l = down_to_up();
    printf("%d %d\n", u, l);
    int t = 5, right = 99, left = 99;
    int out[5] = {0};
    while (t) {
        t--;
        right = right_to_left(left - 1);
        left = left_to_right(right);
        out[t] = cmp(u, l, right, left);
    }
    for (int i = 0; i < 5; i++) {
        if (out[i] != -1)
            printf("%d ", out[i]);
    }
    printf("\n");
    return 0;
}